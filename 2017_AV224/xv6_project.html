<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta name="generator" content="jemdoc, see http://jemdoc.jaboc.net/" />
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link rel="stylesheet" href="jemdoc.css" type="text/css" />
<title></title>
</head>
<body>
<table summary="Table for page layout." id="tlayout">
<tr valign="top">
<td id="layout-menu">
<div class="menu-item"><a href="index.html">Home</a></div>
<div class="menu-item"><a href="lectures.html">Lectures&nbsp;and&nbsp;Notes</a></div>
<div class="menu-item"><a href="assignments.html">Assignments</a></div>
<div class="menu-item"><a href="xv6_project.html" class="current">Project&nbsp;-&nbsp;xv6</a></div>
<div class="menu-item"><a href="report_project.html">Project&nbsp;-&nbsp;Written&nbsp;Report</a></div>
<div class="menu-item"><a href="exams.html">Exams</a></div>
</td>
<td id="layout-content">
<h2>Project - Exploration of operating system concepts using xv6</h2>
<p>For this project we will use the freely available xv6 teaching operating system.</p>
<ul>
<li><p>The xv6 operating system is available at <a href="https://pdos.csail.mit.edu/6.828/2016/xv6.html">https://pdos.csail.mit.edu/6.828/2016/xv6.html</a>. Please also check other pages at this location for a lot of useful information regarding xv6, installing xv6, and working with xv6 (2008 class).</p>
</li>
<li><p>Please download and skim through the source code listing as well as the xv6 book.</p>
</li>
<li><p>There are many operating system courses which use xv6 (you can use these materials to learn more about operating systems too)</p>
<ul>
<li><p><a href="https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-828-operating-system-engineering-fall-2012/">MIT OCW 6.828</a></p>
</li>
<li><p><a href="http://www.cse.iitd.ernet.in/~sbansal/os/">Prof. Bansal&rsquo;s course at IIT-D</a></p>
</li>
<li><p><a href="http://www.cse.iitm.ac.in/~chester/courses/15o_os/index.html">Prof. Riberio&rsquo;s course at IIT-M</a></p>
</li>
</ul>

</li>
</ul>
<h2>Phase 1</h2>
<div class="infoblock">
<div class="blockcontent">
<p>The objectives of phase 1 of the project are to get up and running with xv6.</p>
<ul>
<li><p>Use git to obtain the latest source files </p>
<ul>
<li><p>git clone git:<i></i>github.com<i>mit-pdos</i>xv6-public.git</p>
</li>
<li><p>Make sure that you have gcc installed</p>
</li>
<li><p>Make sure that you have qemu installed </p>
</li>
<li><p>sudo apt-get install qemu or obtain from www.qemu-project.org</p>
</li>
<li><p>run make qemu to start an instance of xv6 running on a qemu virtual machine</p>
</li>
<li><p>for Windows based systems</p>
<ul>
<li><p>Use VMWare or Virtualbox to install Linux, enable networking</p>
</li>
<li><p>install gcc and associated tools </p>
</li>
<li><p>install qemu</p>
</li>
</ul>

</li>
</ul>

</li>
</ul>
<ul>
<li><p>Modifying the operating system source code</p>
<ul>
<li><p>Example - need to make the shell prompt say "AV224 $" instead of "$"</p>
</li>
<li><p>Use your favourite code editor</p>
</li>
<li><p>Edit sh.c</p>
</li>
<li><p>Do make qemu and observe the results</p>
</li>
</ul>

</li>
</ul>
<ul>
<li><p>All groups should email a document consisting of</p>
<ul>
<li><p>The list of people in the group</p>
</li>
<li><p>The operating system you have chosen</p>
</li>
<li><p>The simple modification</p>
</li>
<li><p>A screenshot of the OS running on the virtual machine to Arnab by 27/03/17</p>
</li>
</ul>

</li>
</ul>
</div></div>
<h2>Phase 2</h2>
<div class="infoblock">
<div class="blockcontent">
<p>The objective of phase 2 of the project are to understand how to write user programs in xv6 and system calls in xv6.</p>
<ul>
<li><p>Obtain the list of user programs that exist in the xv6 source code that you have cloned above. How did you find out which programs are user programs?</p>
</li>
<li><p>Write your own "hello" user program. The program should take one argument from command line - say arg1 and print "Hello &lt;value of arg1&gt;".</p>
</li>
<li><p>When making modifications to the xv6 codebase it would be good if you use git version control to add and commit changes. You can learn more about git from many sources in the internet, such as <a href="http://www-cs-students.stanford.edu/~blynn/gitmagic/">http://www-cs-students.stanford.edu/~blynn/gitmagic/</a>. Using git would give you extra credits. For each submission, you have to submit the git log when submitting your results.</p>
</li>
<li><p>Write your own "sleeper" user program. The program should take number of seconds as an input argument Ns from the command line. When the program is executed, it should take approximately Ns seconds to execute the program. What system calls would you use to implement this?</p>
</li>
</ul>
<ul>
<li><p>All groups should email a zip file consisting of</p>
<ul>
<li><p>descriptions of how you have completed the tasks above.</p>
</li>
<li><p>the user programs&rsquo; source code.</p>
</li>
<li><p>screen shots of the user programs running to Arnab by 14/04/17</p>
</li>
</ul>

</li>
</ul>
</div></div>
<h2>Phase 3</h2>
<div class="infoblock">
<div class="blockcontent">
<p>The objective of phase 3 of the project is to understand process scheduling in xv6</p>
<ul>
<li><p>Read Chapter 5 of the xv6 book.</p>
</li>
<li><p>Also see this <a href="http://pages.cs.wisc.edu/~cs537-3/Projects/p2b.html">link</a> for more information about process scheduling in xv6.</p>
</li>
<li><p>Prepare a short report on how process scheduling is done in xv6.</p>
</li>
<li><p>All groups should email the above report to Arnab by 21/04/17</p>
</li>
</ul>
</div></div>
<h2>Phase 4</h2>
<div class="infoblock">
<div class="blockcontent">
<p>The objective of phase 4 of the project is to implement a new process scheduler in xv6 and set up a method to test performance of scheduling policies.
This phase consists of three parts</p>
<ul>
<li><p>All teams should implement a pseudorandom number generator which is accessed through a syscall</p>
<ul>
<li><p>A simple pseudorandom number generator is XORshift. Read more about XORshift <a href="https://en.wikipedia.org/wiki/Xorshift">here</a>.</p>
</li>
<li><p>Implement a syscall random() that generates pseudorandom numbers. What is the minimum and maximum of the pseudorandom numbers that are generated.</p>
</li>
<li><p>Optional: Implement a syscall setseed(n) that sets the seed for the pseudorandom number generator</p>
</li></ul>
</li>
<li><p>All teams should implement the following Random Scheduler</p>
<ul>
<li><p>At a time, if there are processes (P1, P2, &hellip;, Pn) the Random Scheduler should schedule one out of the n uniformly at random (please try to understand what the statement uniformly at random means before you do this!)</p>
</li>
<li><p>Think about whether the syscall can be used to generate random numbers in this case. If not, then what can be done?</p>
</li></ul>
</li>
<li><p>All teams should implement the following user program to test the random scheduler</p>
<ul>
<li><p>The user program takes the following arguments as inputs from the command line</p>
<ul>
<li><p>Minimum time between process generation "minp_time"</p>
</li>
<li><p>Maximum time between process generation "maxp_time"</p>
</li>
<li><p>Minimum running time for a process "minp_runtime"</p>
</li>
<li><p>Maximum running time for a process "maxp_runtime"</p>
</li>
<li><p>Assume that all times are in seconds</p>
</li>
<li><p>Maximum number of processes "maxnum_processes"</p>
</li></ul>
</li>
<li><p>Read about the Uniform distribution for random variables from <a href="https://en.wikipedia.org/wiki/Discrete_uniform_distribution">here</a></p>
</li>
<li><p>Read about sampling from the Uniform distribution</p>
</li>
<li><p>Implement a function "nextprocessbirthtime" to sample from a Uniform[minp_time, maxp_time] distribution.</p>
</li>
<li><p>Implement a function "processruntime" to sample from a Uniform[minp_runtime, maxp_runtime] distribution.</p>
</li>
<li><p>The user program does the following</p>
<ul>
<li><p>When the program starts it calls nextprocessbirthtime to get a time named nexttime uniformly distributed between minp_time and maxp_time</p>
</li>
<li><p>It also samples the duration for which the process should run using the processruntime function and stores in a variable runtime</p>
</li>
<li><p>The process sleeps for nexttime and after waking up it forks a child process</p>
</li>
<li><p>The child process will either</p>
<ul>
<li><p>exec the sleeper program from Phase 3 with runtime as an argument</p>
</li>
<li><p>or sleeps for runtime and exits</p>
</li></ul>
</li>
<li><p>The user program (the parent process) will continue doing this for maxnum_processes</p>
</li></ul>
</li>
<li><p>The user program should wait till the last child process has exited and then print the total time taken from the start of the user program to the time till the last child process has exited</p>
</li>
<li><p>Read about cprintf() and use this to demonstrate how your code is working</p>
</li></ul>
</li>
<li><p>All groups should email a zip file consisting of</p>
<ul>
<li><p>descriptions of how you have completed the tasks above</p>
</li>
<li><p>the source codes for all the implementation tasks (and the git log if you have one with good descriptions for each commit)</p>
</li>
<li><p>to Arnab by 18/05/17</p>
</li>
</ul>

</li>
</ul>
</div></div>
<h2>Phase 5</h2>
<div class="infoblock">
<div class="blockcontent">
<ul>
<li><p>Teams need to implement at least one out of the following other scheduling policies</p>
<ul>
<li><p>Priority scheduler (assume that the priority of the job is set by the process itself)</p>
</li>
<li><p>Shortest job first (assume that job lengths are pre-announced by the process itself)</p>
</li>
<li><p>First come first served </p>
</li>
<li><p>Earliest deadline first (assume that deadlines are pre-announced by the process itself)</p>
</li></ul>
</li>
<li><p>In order to make sure that not all teams choose the same scheduler to implement, the following rule should be followed</p>
<ul>
<li><p>Find out the birth month of the team member who is the youngest</p>
</li>
<li><p>If the above birth month is January, May, or September the team has to implement Priority Scheduler</p>
</li>
<li><p>If the above birth month is February, June, or October the team has to implement Shortest Job First</p>
</li>
<li><p>If the above birth month is March, July, or November the team has to implement First Come First Served</p>
</li>
<li><p>If the above birth month is April, August, or December the team has to implement Earliest Deadline First</p>
</li></ul>
</li>
<li><p>In all of the above schedulers, a process should be able to store some per process information within its process control block</p>
<ul>
<li><p>In the case of the priority scheduler the process needs to store the priority</p>
</li>
<li><p>For shortest job first, the process needs to store a job length (which is magically assumed to be known to the process)</p>
</li>
<li><p>For first come first served, the process needs to store the time at which the process enters the system</p>
</li>
<li><p>For earliest deadline first, the process needs to store the deadline</p>
</li>
<li><p>Each team has to modify the proc structure (which is the process control block in xv6) to store this additional information</p>
</li>
<li><p>Each team also has to implement a syscall - signalinfo() to update this additional information within proc for each process</p>
</li></ul>
</li>
<li><p>Notes on implementation of priority scheduler</p>
<ul>
<li><p>For priority scheduler, proc needs to contain a priority variable and signalinfo() is used by the process to self set a priority</p>
</li>
<li><p>Each time, the priority scheduler should schedule the process with the smallest priority value (small means high priority).</p>
<ul>
<li><p>If there is more than one process with the smallest priority value then the scheduler should choose one of those processes uniformly at random</p>
</li></ul>
</li>
<li><p>Discuss what kind of priority scheduler you have implemented, preemptive or non-preemptive. If you have implemented one, how would you implement the other?</p>
</li></ul>
</li>
<li><p>Notes on implementation of shortest job first</p>
<ul>
<li><p>proc needs to contain a variable for storing the length of a job and signalinfo() is used by the process to self signal the job length (note that we are not doing estimation of job length here, unlike what we learned in class)</p>
</li>
<li><p>If at a time there are multiple processes with the same shortest job length, then the scheduler should choose one of those processes uniformly at random</p>
</li></ul>
</li>
<li><p>Notes on implementation of first come first served</p>
<ul>
<li><p>proc needs to contain a variable for storing the arrival time of the process and signalinfo() is used by the process to update this variable with the (approximate) arrival time of the process into the system</p>
</li>
<li><p>If at a time there are multiple processes with the same arrival time, then the scheduler should choose one of those processes uniformly at random</p>
</li></ul>
</li>
<li><p>Notes on implementation of earliest deadline first</p>
<ul>
<li><p>proc needs to contain a variable for storing the deadline and signalinfo() should be used to update this variable with a deadline value</p>
</li>
<li><p>If at a time there are multiple processes with the same earliest deadline, then the scheduler should choose one of those processes uniformly at randomc</p>
</li></ul>
</li>
<li><p>You can use the user program that was created in Phase 4 to test your scheduler.</p>
</li>
<li><p>All groups should email a zip file consisting of</p>
<ul>
<li><p>descriptions of how you have completed the tasks above</p>
</li>
<li><p>the source codes for all the implementation tasks (and the git log if you have one with good descriptions for each commit)</p>
</li>
<li><p>to Arnab by 18/05/17</p>
</li>
</ul>

</li>
</ul>
</div></div>
<div id="footer">
<div id="footer-text">
Page generated 2017-04-29 19:56:59 IST, by <a href="http://jemdoc.jaboc.net/">jemdoc</a>.
</div>
</div>
</td>
</tr>
</table>
</body>
</html>
